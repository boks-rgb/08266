<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ’ ë¯¸ë• í€´ì¦ˆ</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #ffeef3;
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }
    .instruction {
      font-size: 1.2rem;
      margin-bottom: 20px;
      color: #555;
    }
    .question {
      font-size: 1.4rem;
      font-weight: bold;
      margin-bottom: 20px;
    }
    .virtue-grid {
      display: grid;
      grid-template-columns: repeat(13, auto);
      gap: 8px;
      justify-content: center;
      max-width: 95vw;
      margin: auto;
    }
    button {
      padding: 8px 12px;
      border: 2px solid hotpink;
      border-radius: 10px;
      background: white;
      cursor: pointer;
      transition: 0.2s;
    }
    button:hover {
      background-color: #ffddea;
    }
    .feedback {
      margin-top: 20px;
      font-weight: bold;
    }
    .progress {
      margin-top: 30px;
      font-size: 1.1rem;
    }
    .levels {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 20px;
    }
    .level-box {
      padding: 6px 12px;
      border: 2px solid #ccc;
      border-radius: 12px;
      background: #fff;
    }
    .level-box.active {
      background: hotpink;
      color: white;
      font-weight: bold;
      border-color: deeppink;
    }
  </style>
</head>
<body>
  <h1>ğŸ’ ë¯¸ë• í€´ì¦ˆ</h1>
  <div class="instruction">ëœ»ì— ë§ëŠ” ë¯¸ë•ì˜ ë³´ì„ ë‹¨ì–´ë¥¼ ê³¨ë¼ì£¼ì„¸ìš”.</div>
  <div class="question" id="question">ëœ» ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
  <div class="virtue-grid" id="grid"></div>
  <div class="feedback" id="feedback"></div>

  <div class="progress">
    âœ¨ ë‚˜ì˜ ë¯¸ë• í¬ì¸íŠ¸: <span id="points">0</span><br><br>
    í˜„ì¬ ë ˆë²¨: <span id="level">ğŸ£ ë³‘ì•„ë¦¬</span>
  </div>

  <div class="levels" id="levelTrack"></div>

  <script>
    const words = [
      "ê°ì‚¬", "ë°°ë ¤", "ìœ ì—°ì„±", "ì°½ì˜ì„±",
      "ê²°ì˜", "ë´‰ì‚¬", "ì´ìƒí’ˆê¸°", "ì±…ì„ê°",
      "ê²¸ì†", "ì‚¬ë‘", "ì´í•´", "ì²­ê²°",
      "ê´€ìš©", "ì‚¬ë ¤", "ì¸ë‚´", "ì´ˆì—°",
      "ê·¼ë©´", "ìƒëƒ¥í•¨", "ì¸ì •", "ì¶©ì§",
      "ê¸°ë»í•¨", "ì†Œì‹ ", "ììœ¨", "ì¹œì ˆ",
      "ê¸°ì§€", "ì‹ ë¢°", "ì ˆë„", "íƒì›”í•¨",
      "ëˆê¸°", "ì‹ ìš©", "ì •ëˆ", "í‰ì˜¨í•¨",
      "ë„ˆê·¸ëŸ¬ì›€", "ì—´ì •", "ì •ì˜ë¡œì›€", "í•œê²°ê°™ìŒ",
      "ë„ì›€", "ì˜ˆì˜", "ì •ì§", "í—Œì‹ ",
      "ëª…ì˜ˆ", "ìš©ê¸°", "ì¡´ì¤‘", "í˜‘ë™",
      "ëª©ì ì˜ì‹", "ìš©ì„œ", "ì¤‘ìš©", "í™”í•©",
      "ë¯¿ìŒì§í•¨", "ìš°ì˜", "ì§„ì‹¤í•¨", "í™•ì‹ "
    ];

    const meanings = {
      "ê°ì‚¬": "ê³ ë§ˆìš´ ë§ˆìŒì„ í‘œí˜„í•¨",
      "ë°°ë ¤": "ë‹¤ë¥¸ ì‚¬ëŒì„ ìƒê°í•˜ê³  ë„ì™€ì¤Œ",
      "ìœ ì—°ì„±": "ìƒí™©ì— ë§ê²Œ ë¶€ë“œëŸ½ê²Œ í–‰ë™í•¨",
      "ì°½ì˜ì„±": "ìƒˆë¡œìš´ ìƒê°ì„ í•´ëƒ„",
      "ê²°ì˜": "êµ³ê²Œ ê²°ì‹¬í•˜ê³  ë°€ê³  ë‚˜ê°",
      "ë´‰ì‚¬": "ë‹¤ë¥¸ ì‚¬ëŒì„ ìœ„í•´ ë•ëŠ” í–‰ë™",
      "ì´ìƒí’ˆê¸°": "ë†’ì€ ëª©í‘œë¥¼ í–¥í•œ í¬ë¶€ë¥¼ í’ˆìŒ",
      "ì±…ì„ê°": "ìì‹ ì˜ ì—­í• ì„ ë‹¤í•˜ë ¤ëŠ” ë§ˆìŒ",
      "ê²¸ì†": "ìŠ¤ìŠ¤ë¡œë¥¼ ìë‘í•˜ì§€ ì•Šê³  ë‚¨ì„ ì¡´ì¤‘í•¨",
      "ì‚¬ë‘": "ìƒëŒ€ë°©ì„ ê¹Šì´ ì•„ë¼ëŠ” ë§ˆìŒ",
      "ì´í•´": "ìƒëŒ€ë°©ì˜ ì…ì¥ì„ ì•Œì•„ì¤Œ",
      "ì²­ê²°": "ê¹¨ë—í•˜ê²Œ ìœ ì§€í•¨",
      "ê´€ìš©": "ë‹¤ë¦„ì„ ì¸ì •í•˜ê³  ë°›ì•„ë“¤ì„",
      "ì‚¬ë ¤": "ê¹Šì´ ìƒê°í•˜ê³  ë°°ë ¤í•¨",
      "ì¸ë‚´": "ì–´ë ¤ì›€ì„ ì°¸ê³  ê²¬ë”¤",
      "ì´ˆì—°": "ê°ì •ì— í”ë“¤ë¦¬ì§€ ì•ŠìŒ",
      "ê·¼ë©´": "ë¶€ì§€ëŸ°í•˜ê³  ì„±ì‹¤í•¨",
      "ìƒëƒ¥í•¨": "ë‹¤ì •ë‹¤ê°í•˜ê²Œ í–‰ë™í•¨",
      "ì¸ì •": "ìƒëŒ€ë¥¼ ì¸ì •í•˜ê³  ë°›ì•„ë“¤ì„",
      "ì¶©ì§": "ì¶©ì„±ê³¼ ì •ì§í•¨ì„ ì§€ë‹˜",
      "ê¸°ë»í•¨": "ì‘ì€ ì¼ì—ë„ ê¸°ì¨ì„ ëŠë‚Œ",
      "ì†Œì‹ ": "ìì‹ ì˜ ìƒê°ì„ ì§€í‚´",
      "ììœ¨": "ìŠ¤ìŠ¤ë¡œ ì¡°ì ˆí•˜ê³  ì„ íƒí•¨",
      "ì¹œì ˆ": "ë‹¤ì •í•˜ê³  ë°°ë ¤ì‹¬ ìˆê²Œ í–‰ë™í•¨",
      "ê¸°ì§€": "ê¸°ë°œí•œ ìƒê°ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•¨",
      "ì‹ ë¢°": "ë¯¿ê³  ì˜ì§€í•¨",
      "ì ˆë„": "ì•Œë§ê²Œ ì¡°ì ˆí•¨",
      "íƒì›”í•¨": "ì•„ì£¼ ë›°ì–´ë‚¨",
      "ëˆê¸°": "ì‰½ê²Œ í¬ê¸°í•˜ì§€ ì•ŠìŒ",
      "ì‹ ìš©": "ë¯¿ì„ ìˆ˜ ìˆëŠ” í‰íŒ",
      "ì •ëˆ": "ì •ë¦¬ì •ëˆì´ ì˜ ë˜ì–´ ìˆìŒ",
      "í‰ì˜¨í•¨": "ë§ˆìŒì´ ì¡°ìš©í•˜ê³  ì•ˆì •ë¨",
      "ë„ˆê·¸ëŸ¬ì›€": "ì˜ ìš©ì„œí•˜ê³  í¬ìš©í•¨",
      "ì—´ì •": "ê°•í•œ ì˜ì§€ì™€ ì—ë„ˆì§€ë¡œ ì„í•¨",
      "ì •ì˜ë¡œì›€": "ì˜³ê³  ê·¸ë¦„ì„ ë°”ë¡œ íŒë‹¨í•¨",
      "í•œê²°ê°™ìŒ": "í•­ìƒ ê°™ê³  ë³€í•˜ì§€ ì•ŠìŒ",
      "ë„ì›€": "ë‚¨ì„ ë„ì™€ì¤Œ",
      "ì˜ˆì˜": "ì˜ˆì ˆì„ ì§€í‚´",
      "ì •ì§": "ê±°ì§“ ì—†ì´ ì°¸ë¨",
      "í—Œì‹ ": "ìê¸°ë¥¼ í¬ìƒí•˜ë©° ë„ì›€",
      "ëª…ì˜ˆ": "í›Œë¥­í•œ ì´ë¦„ê³¼ ìë‘",
      "ìš©ê¸°": "ë‘ë ¤ì›€ ì—†ì´ ë‚˜ì•„ê°",
      "ì¡´ì¤‘": "ìƒëŒ€ë¥¼ ì†Œì¤‘íˆ ì—¬ê¹€",
      "í˜‘ë™": "ì„œë¡œ í˜ì„ í•©í•¨",
      "ëª©ì ì˜ì‹": "ëª©í‘œë¥¼ ë¶„ëª…íˆ í•¨",
      "ìš©ì„œ": "ì˜ëª»ì„ ì´í•´í•˜ê³  ë°›ì•„ë“¤ì„",
      "ì¤‘ìš©": "ì§€ë‚˜ì¹˜ì§€ ì•ŠìŒ",
      "í™”í•©": "ì„œë¡œ ì˜ ì–´ìš¸ë¦¼",
      "ë¯¿ìŒì§í•¨": "ì‹ ë¢°í•  ìˆ˜ ìˆìŒ",
      "ìš°ì˜": "ìš°ì •ì´ ê¹ŠìŒ",
      "ì§„ì‹¤í•¨": "ê±°ì§“ì´ ì—†ìŒ",
      "í™•ì‹ ": "ìì‹  ìˆê²Œ ë¯¿ìŒ"
    };

    const levels = [
      { min: 0, emoji: "ğŸ£", name: "ë³‘ì•„ë¦¬" },
      { min: 3, emoji: "ğŸŒ±", name: "ìƒˆì‹¹" },
      { min: 6, emoji: "ğŸŒ¼", name: "ê½ƒë§ìš¸" },
      { min: 10, emoji: "ğŸ¦‹", name: "ë‚˜ë¹„" },
      { min: 15, emoji: "ğŸ¯", name: "ìš©ê°ì´" },
      { min: 20, emoji: "ğŸ‘‘", name: "ë³´ì„ì™•" }
    ];

    let points = parseInt(localStorage.getItem("points") || "0");
    let currentAnswer = "";

    const question = document.getElementById("question");
    const grid = document.getElementById("grid");
    const feedback = document.getElementById("feedback");
    const pointsEl = document.getElementById("points");
    const levelEl = document.getElementById("level");
    const levelTrack = document.getElementById("levelTrack");

    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function updateLevel() {
      const level = levels.reduce((acc, l) => points >= l.min ? l : acc, levels[0]);
      levelEl.textContent = `${level.emoji} ${level.name}`;
      levelTrack.innerHTML = "";
      levels.forEach(l => {
        const div = document.createElement("div");
        div.className = "level-box" + (l.name === level.name ? " active" : "");
        div.textContent = `${l.emoji} ${l.name}`;
        levelTrack.appendChild(div);
      });
    }

    function setQuestion() {
      const keys = Object.keys(meanings);
      currentAnswer = shuffle(keys)[0];
      question.textContent = `ëœ»: ${meanings[currentAnswer]}`;
    }

    function makeButtons() {
      grid.innerHTML = "";
      const sorted = [...words].sort((a, b) => a.localeCompare(b, 'ko'));
      sorted.forEach(word => {
        const btn = document.createElement("button");
        btn.textContent = word;
        btn.onclick = () => checkAnswer(word);
        grid.appendChild(btn);
      });
    }

    function checkAnswer(word) {
      if (word === currentAnswer) {
        feedback.textContent = "ì •ë‹µì´ì—ìš”! ğŸ‰";
        points++;
        localStorage.setItem("points", points);
      } else {
        feedback.textContent = `ì•„ì‰¬ì›Œìš”! ì •ë‹µì€ "${currentAnswer}"`;
      }
      pointsEl.textContent = points;
      updateLevel();
      setTimeout(() => {
        feedback.textContent = "";
        setQuestion();
      }, 1500);
    }

    // ì´ˆê¸° ì‹¤í–‰
    pointsEl.textContent = points;
    updateLevel();
    setQuestion();
    makeButtons();
  </script>
</body>
</html>
